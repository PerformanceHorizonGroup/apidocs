FORMAT: 1A
HOST: https://api.performancehorizon.com

# Performance Horizon API
This is the full external API documentation for the [PH](http://performancehorizon.com) API. Every feature exposed to
our clients through our [Web App](https://phgconsole.performancehorizon.com) can be consumed programmatically through
the API. This API documentation is written in [api blueprint](https://apiblueprint.org/) which can be read by humans
and machines.

The documentation is interactive; calls can be made to all documented endpoints within the browser
without the need to write any code. For devs, there are many tools available to consume the documentation, for more
information check out the [tools section](https://apiblueprint.org/tools.html).

Finally, our API docs are open source. We would welcome any corrections, updates or bug fixes - to do this, please
submit a pull request on our [Github project page](https://github.com/PerformanceHorizonGroup/apidocs).

## Access and Authentication
The API supports two authentication protocols:

1. [HTTP Basic Auth](http://en.wikipedia.org/wiki/Basic_access_authentication) over HTTPS
2. [Oauth2 via Authorization Code Grant](http://oauthlib.readthedocs.io/en/latest/oauth2/grants/authcode.html) user flow

### HTTP Basic Auth
You must have a valid `application_key` which identifies the Network you are making requests against.

Unless you are creating a User, you should make all requests in the context of a User account. Each User has their own
unique `user_api_key` which must be sent in conjunction with the `application_key`.

- Username: `application_key`
- Password: `user_api_key`

Typically, authentication via HTTP Basic is achieved by sending the `Authorization` header in the following format:

```
Authorization: Basic cDN0ZXcxNDV5M3RhZzQxbjowaHkzNGho
```

Where `cDN0ZXcxNDV5M3RhZzQxbjowaHkzNGho` is the Base64 representation of the username and password:

```
base64(username + ':' + password)
```

## Response Formats
The default response format is `JSON`. You can specify the response format of each request, by adding a file extension
suffix to the end of the request URI. The requested format will dictate the HTTP `Content-Type` header that is returned
in the response. Currently, there are 3 available formats:

| Format               | Header                                   | Notes                                                               |
|----------------------|------------------------------------------|---------------------------------------------------------------------|
| `.json`              | `Content-Type: application/json`         |                                                                     |
| `.xml`               | `Content-Type: text/xml`                 |                                                                     |
| `.csv`               | `Content-Type: application/octet-stream` | Only available on specific endpoints                                |

## Compression
The API is compression enabled. To control whether the API response is compressed, send the relevant
`Accept-Encoding` HTTP header:

- Request: `Accept-Encoding: gzip`
- Response: `Content-Encoding: gzip`

## Pagination
Certain endpoints will generate large result sets. To save bandwidth and long processing times, these endpoints will
paginate the results to reduce the strain on both client and server.

Any endpoint that supports pagination will return 3 attributes to support this:

- `offset` the current offset of the data returned
- `limit` the number of results to which the output was restricted
- `count` the total number of results available

If `offset` combined with `limit` is less than the overall `count`, the results have been truncated.
Therefore, to consume all data you will need to page through the result set.

### Paging
To paginate through a result set, you can use a combination of 2 parameters:

| Parameter            | Description                          | Notes                                                               |
|----------------------|--------------------------------------|---------------------------------------------------------------------|
| `offset`             | Offset the results by a given amount | Integer, defaults to `0`                                            |
| `limit`              | Limit the number of results returned | Integer, maximum limit is defined in result set headers             |

For example, if an endpoint produces 500 results, only the first 300 will be returned (results `0` to `299`).
In order to retrieve the remaining results, implement the `offset` GET param. In this example, adding `offset=300` to
the query string parameters.

There are 2 considerations when doing this:

- Results begin at offset `0`. If you're retrieving a report with `limit=300`, page 2 will begin at `offset=300`,
page 3 at `offset=600`, page 4 at `offset=900`, etc.
- The reports you generate are based on live data, and could be subject to continuous, incremental changes. If your
query covers a particularly busy data set, then data inserts or updates may occur between paging.

### Hypermedia
It can be cumbersome to manage pagination programmatically, especially when attempting to rapidly prototype. To provide
some helpful assistance, the API will output a `hypermedia` node for all paginated result sets. Essentially this
performs all necessary calculations and outputs all relevant information with absolute URI's to assist easier pagination.

```
"hypermedia": {
    "pagination": {
        "total_page_count": 15,
        "first_page": "/user.json?limit=100&offset=0",
        "last_page": "/user.json?limit=100&offset=1400",
        "next_page": "/user.json?limit=100&offset=100",
        "previous_page": null
    }
}
```

# Group User

A User is the central entity that all API requests are authenticated against. A User can have permissions against
multiple Publisher and Advertiser accounts.

## User [/user]

+ Attributes (object)
    + user_id: 11l16829 - ID of the user
    + Include User Base
    + network_id: 1l1000003
    + network_name: PHG
    + user_api_key: ZMEt5ca8

### Retrieve User [GET]

Retrieve the details of the authenticated user.

+ Response 200 (application/json; charset=utf-8)
    + Attributes (User Wrapper)

### Create a User [POST]

This is the only API request which can be made without submitting a HTTP Basic Auth password in the Authorization header.
The reason for this is so that a new User can be created against the requested Network. On success, a unique
`user_api_key` will be returned which can be used in subsequent requests to perform actions as that new User.

+ Request (application/json; charset=utf-8)
    + Attributes (User Base)
        + user_name: newuser123 (required) - Unique user account name
        + password: samplepass (required) - Password of the user

+ Response 200 (application/json; charset=utf-8)
    + Attributes (User Wrapper)

### Update a User [POST /user/{user_id}]

Update the specified user.

+ Parameters
    + user_id: 11l16829 - ID of the user

+ Request (application/json; charset=utf-8)
    + Attributes (User Update)
        + user_id: 11l16829 (required) - ID of the user

+ Response 200 (application/json; charset=utf-8)
    + Attributes (User Wrapper)

## Account [/user/account]

### Retrieve Accounts [GET]

Returns the Network object that the user belongs to, and all Advertiser and Publisher accounts to which they are
associated. Also includes a permissions node to relay the available User Access Rights to that entity.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + user_accounts (array)
            + (Network Account Wrapper)
            + (Publisher Account Wrapper)
            + (Advertiser Account Wrapper)
            + (Campaign Group Account Wrapper)

# Group Network

All API calls are contextual to the User that is making the request, and all User accounts are associated with the
Network that they are created on. Each network has a unique `application_user_key`.

## Network [/network]

+ Attributes (object)
    + network_id: 1l1000003 - ID of the network
    + network_name: PHG - Name of the network
    + network_description: PHG Network - Description of the network
    + network_notes: Internal PHG Network - Any additional notes for the network
    + network_application_id: 2
    + auto_approve_publishers (YesOrNo)
    + default_campaign_id
    + cm_client_id: b4d0d85c2cff813cdce092c261b2b200
    + network_contact_email
    + network_locale (Locale)

### List Networks [GET]

Retrieve the details of the authenticated Network.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + networks (array[Network Wrapper])

# Group Publisher

A User can create one or more Publisher accounts. A User can also have access to one or more Publisher accounts - this
is determined by the User's permissions. A Network admin may choose to grant a User access to multiple entities
within their Network.

## Publishers [/user/publisher]

### List Publishers [GET]

One or more Publishers can reside on a Network. This endpoint will output a listing of all Publishers who have access
to the Network and the output is contextual based on the permissions of the User making the request to the endpoint.
A limited Publisher schema will be utilised for any Publisher that the User does not have appropriate permissions to view.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + publishers (array[Publisher Wrapper])

### Create a Publisher [POST]

Create a new Publisher account attached to the authenticated User.

+ Request (application/json; charset=utf-8)
    + Attributes (Publisher Base)
        + account_name: newpublisher123 (required) - Unique advertiser account name
        + entity_id: 1 (required) - The relevant entity id
        + network_id: 1l1000003 (required) - The relevant network id
        + entity_terms_id: 252 (required) - The terms and conditions for the specified entity

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Publisher Wrapper)

## Publisher [/user/publisher/{publisher_id}]

+ Parameters
    + publisher_id: 1l1007802 - ID of the publisher

### Retreive Publisher [GET]

Outputs the specified publisher.

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Publisher Wrapper)

### Update Publisher [POST]

Update the specified Publisher.

+ Request (application/json; charset=utf-8)
    + Attributes (Publisher Update)
        + publisher_id: 1l1007802 - ID of the publisher

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Publisher Wrapper)

# Group Publisher Website

The Website endpoint gathers information about a Publisher's Web properties, and its related information.

## Publisher Websites [/user/publisher/{publisher_id}/website]

+ Parameters
    + publisher_id: 1l1007802 - ID of the publisher

### List all Publisher Websites [GET]

Return the details of all Websites attached to the Publisher account.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + websites (array[Publisher Website Wrapper])

### Create Publisher Website [POST]

Create one or more Websites against the Publisher entity. Each Website is sent as an array within a top level `websites`
array.

+ Request Single (application/json; charset=utf-8)
    + Attributes (Publisher Website Base)

+ Request Multiple (application/json; charset=utf-8)
    + Attributes
        + websites (array[Publisher Website Base])

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + websites (array[Publisher Website Wrapper])

### Update Publisher Websites [PUT]

Update one or more Websites against the Publisher entity. Each Website is sent as an array within a top level
`websites` array and must contain its associated `website_id`.

+ Request (application/json; charset=utf-8)
    + Attributes
        + websites (array)
            + (object)
                + website_id: 11l18694 - ID of the publisher website
                + Include Publisher Website Base

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + websites (array[Publisher Website Wrapper])

## Publisher Website [/user/publisher/{publisher_id}/website/{website_id}]

+ Parameters
    + publisher_id: 1l1007802 - ID of the publisher
    + website_id: 11l18694 - ID of the publisher website

### Retrieve a Publisher Website [GET]

Outputs the specified publisher website.

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Publisher Website Wrapper)

# Group Publisher Database

The Database endpoint gathers information about a Publisher's client base. It is mostly relevant to lead generation Publishers.

## Publisher Databases [/user/publisher/{publisher_id}/database]

+ Parameters
    + publisher_id: 1l1007802 - ID of the publisher

### List all Publisher Databases [GET]

Return the details of all Databases attached to the Publisher account.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + databases (array[Publisher Database Wrapper])

### Create Publisher Database [POST]

Create one or more Databases against the Publisher entity. Each Database is sent as an array within a top level `databases`
array.

+ Request Single (application/json; charset=utf-8)
    + Attributes (Publisher Database Base)

+ Request Multiple (application/json; charset=utf-8)
    + Attributes
        + databases (array[Publisher Database Base])

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + databases (array[Publisher Database Wrapper])

### Update Publisher Databases [PUT]

Update one or more Databases against the Publisher entity. Each Database is sent as an array within a top level `databases`
array and must contain its associated `database_id`.

+ Request (application/json; charset=utf-8)
    + Attributes
        + databases (array)
            + (object)
                + database_id: 111111l300347 - ID of the publisher database
                + Include Publisher Database Base

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + databases (array[Publisher Database Wrapper])

## Publisher Database [/user/publisher/{publisher_id}/database/{database_id}]

+ Parameters
    + publisher_id: 1l1007802 - ID of the publisher
    + database_id: 111111l300347 - ID of the publisher database

### Retrieve a Publisher Database [GET]

Outputs the specified Publisher Database.

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Publisher Database Wrapper)

# Group Advertiser

A User can create one or more Advertiser accounts. A User can also have access to one or more Advertiser accounts -
this is determined by the User's permissions. A Network admin may choose to grant a User access to multiple
entities within their Network.

## Advertisers [/user/advertiser]

### List all Advertisers [GET]

One or more Advertisers can reside on a Network. This endpoint will output a listing of all Advertisers who reside on
the Network and the output is contextual based on the permissions of the User making the request to the endpoint.
A limited Advertiser schema will be utilised for any Advertiser that the User does not have appropriate permissions to view.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + advertisers (array[Advertiser Wrapper])

### Create Advertiser [POST]

Create a new Advertiser account attached to the authenticated User.

+ Request (application/json; charset=utf-8)
    + Attributes (Advertiser Base)
        + account_name: newadvertiser123 (required) - Unique advertiser account name

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Advertiser Wrapper)

## Advertiser [/user/advertiser/{advertiser_id}]

+ Parameters
    + advertiser_id: 10l110 - ID of the advertiser

+ Attributes (object)
    + advertiser_id: 10l110 - ID of the advertiser
    + Include Advertiser Base
    + contact_email: kristin.bouveng@performancehorizon.com
    + status (Status)
    + pre_payment (nullable)
    + current_balance (nullable)
    + vat_number: GB974997534 (string, optional, nullable)
    + default_currency (Currency)
    + payment_currency (Currency)
    + budget_summary_interval (nullable)
    + budget_summary_start_time (nullable)

### Retrieve an Advertiser [GET]

Outputs the specified advertiser.

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Advertiser Wrapper)

### Update an Advertiser [POST]

Update the specified Advertiser.

+ Request (application/json; charset=utf-8)
    + Attributes (Advertiser Update)
        + advertiser_id: 10l110 - ID of the advertiser

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Advertiser Wrapper)

# Group Campaign

A Campaign is owned by an Advertiser and an Advertiser may have multiple Campaigns. A Campaign represents an entity
which the Advertiser uses to represent something that they wish to allow Publishers the chance to promote.
A Campaign dictates what products/events/conversions can be promoted, and lets the Publishers understand what
Commission they would earn for generating sales/events/conversions. The Advertiser has complete control over their
Campaigns and dictates which Publishers they accept onto the Campaign to promote their services.

## Campaigns [/campaign]

### List all Campaigns [GET]

Return the details of all Campaigns attached to the Network account and visible to the authenticated User.
The output is contextual based on the permissions of the User making the request to the endpoint. A limited Campaign
schema will be utilised for any Campaign that the User does not have appropriate permissions to view.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + campaigns (array[Campaign Wrapper])

### Create a Campaign [POST]

To create a new Campaign, the Advertiser must pass their associated `advertiser_id`.

+ Request (application/json; charset=utf-8)
    + Attributes (Campaign Base)

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Campaign Wrapper)

## Campaign [/campaign/{campaign_id}]

+ Parameters
    + campaign_id: 10l176 - ID of the campaign

+ Attributes (object)
    + campaign_id: 10l176 - ID of the campaign
    + status (Status)
    + Include Campaign Base
    + Include Time Info
    + conversion_type: sale
    + default_override: 10 (number)
    + payment_date (string, optional, nullable)
    + network_fee (string, optional, nullable)
    + restricted_deep_linking (YesOrNo)
    + extra_restricted_deep_linking
    + cookie_status (string, optional, nullable)
    + ip_tracking_time: 0 (number)
    + conversion_hiatus_period: 7 (number)
    + force_approve_period: 0 (number)
    + invoice_address_1 (string, optional, nullable)
    + invoice_address_2 (string, optional, nullable)
    + invoice_address_3 (string, optional, nullable)
    + invoice_address_4 (string, optional, nullable)
    + invoice_address_country (string, optional, nullable)
    + invoice_address_postcode (string, optional, nullable)
    + auto_approve_publisher (YesOrNo)
    + recurring_payment_setup (YesOrNo)
    + dont_invoice (YesOrNo)
    + dont_consolidate (YesOrNo)
    + deferred_lead_submission (string, optional, nullable)
    + invoice_contact (string, optional, nullable)
    + invoice_company (string, optional, nullable)
    + invoice_only (string, optional, nullable)
    + pay_publisher_directly (YesOrNo)
    + budget_summary_interval (number, optional, nullable)
    + budget_summary_start_time (string, optional, nullable)
    + lead_confirmation_url_success
    + lead_confirmation_url_fail
    + tracking_subdomain (string, optional, nullable)
    + campaign_languages (object, optional, nullable)
    + tq_enabled (YesOrNo)
    + tq_enabled_publishers
    + is_cpc (YesOrNo)
    + commissions (array)
    + campaign_overloads (array)
    + campaign_currency_conversions (array)

### Retrieve a Campaign [GET]

Outputs the specified Campaign.

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Campaign Wrapper)

### Update a Campaign [PUT]

Update the specified Campaign.

+ Request (application/json; charset=utf-8)
    + Attributes (Campaign Update)
        + campaign_id: 10l176 (required) - ID of the campaign

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Campaign Wrapper)

### Delete a Campaign [POST]

To delete a specific campaign, you must pass 3 required parameters:

1. `'action' => 'delete'`
2. `'campaign_id' => ''`
3. `'retire_reason' => 'some excuse'`.

+ Request (application/json; charset=utf-8)
    + Attributes
        + campaign_id: 10l176 (required) - ID of the campaign
        + action: delete (required)
        + retire_reason: No longer needed (string, required)

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Campaign Wrapper)
        + status (object)
            + status: Deleted
            + message: Campaign successfully deleted
            + retire_reason: No longer needed
            + campaign_id: 10l176

# Group Commission

To further expand on the the `default_commission` specified in the Campaign object, extra Campaign Commission offers
can be created to reward specific actions, products, and types of conversion. An unlimited number of Commissions can
be set up however each Commission offer must be unique. You cannot have 2 active Commissions for the same event.
Commissions can be defined at four separate levels, these are:

​
1. Campaign level: these Commissions apply to all Publishers, it is regarded as the base level for all actions that
match the Commission offer.

​2. Group level: Commissions apply to all Publishers in a predefined Commission Group.

​3. Publisher level: Commissions that apply to a specific Publisher.

​4. Voucher Code level: Commissions apply to a specified Voucher Code.

## Commission [/campaign/{campaign_id}/commission]

+ Parameters
    + campaign_id: 10l176 - ID of the campaign

+ Attributes (object)
    + commission_id: 300092 - ID of the commission
    + campaign_id: 10l176
    + reference_id: 10l176
    + reference_type: campaign (enum)
        + campaign
        + participation
        + group
        + voucher
    + Include Commission Base
    + sale_type: simple
    + override: 10
    + override_type: override
    + active (YesOrNo)
    + default_commission: false

### List all Campaign level Commissions [GET /campaign/{campaign_id}/campaign/{campaign_id}/commission]

Only outputs Commission offers for the Campaign level.

+ Parameters
    + campaign_id: 10l176 - ID of the campaign

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + commissions (array)
            + (object)
                + commission (Commission)
                    + reference_type: campaign

### List all Publisher level Commissions [GET /campaign/{campaign_id}/publisher/{publisher_id}/commission]

Only outputs Commission offers for the specified Publisher.

+ Parameters
    + campaign_id: 10l176 - ID of the campaign
    + publisher_id: 1l1007802 - ID of the publisher

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + commissions (array)
            + (object)
                + commission (Commission)
                    + reference_type: participation

### List all Group level Commissions [GET /campaign/{campaign_id}/commission_group/{commission_group_id}/commission]

Only outputs Commission offers for the specified Group.

+ Parameters
    + campaign_id: 10l176 - ID of the campaign
    + commission_group_id: 10l169 - ID of the commission group

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + commissions (array)
            + (object)
                + commission (Commission)
                    + reference_type: group

### List all Voucher level Commissions [GET /campaign/{campaign_id}/voucher_code/{voucher_code_id}/commission]

Only outputs Commission offers for the specified Voucher.

+ Parameters
    + campaign_id: 10l176 - ID of the campaign
    + voucher_code_id: 111111l1000015 - ID of the voucher

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + commissions (array)
            + (object)
                + commission (Commission)
                    + reference_type: voucher

### Create a Commission [POST]

Create new Commission offers, you can nest multiple new Commissions within a `commissions` array. The relevant
`commission_level` must be passed to inform the endpoint which level the Commission belongs. If the level is not
`campaign` then the associated `reference_id` should be passed to define the entity at the chosen level.

+ Request (application/json; charset=utf-8)
    + Attributes
        + commissions (array)
            + (Commission Base)
                + commission_level (required)
                + reference_id

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + commission (array[Commission Wrapper])

### Update a Commission [PUT]

To modify Commission offers, add the relevant `commission_id` into each array within the `commissions` array.

+ Request (application/json; charset=utf-8)
    + Attributes
        + commissions (array)
            + (Commission Base)
                + commission_id: 300092 - ID of the commission

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + commission (array[Commission Wrapper])

### Retrieve all Commissions [GET]

Returns the details of all unique Commission offers, with any specific Campaign, Group, Publisher (participation),
Voucher overrides nested into each. This endpoint removes the need to query a specific level individually.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + commissions (array)
            + (object)
                + commission (Commission)
                    + reference_type: campaign
            + (object)
                + commission (Commission)
                    + reference_type: voucher

# Group Commission Group

A Campaign owner can organise Publishers into Groups. These Groups can be used for Reporting purposes, Communication
filters, Commission offers and Voucher Code allocation.

## Commission Groups [/campaign/{campaign_id}/commission_group]

+ Parameters
    + campaign_id: 10l176 - ID of the campaign

### List all Commission Groups [GET]

View all Groups with all associated Publishers.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + commission_groups (array[Commission Group Wrapper])

### Create Commission Groups [POST /commission_group]

Create new Groups by passing each Group object within a `commission_groups` array. A `name` and `campaign_id`
must be passed, and to add Publishers into the Group pass them in a `publishers` array.

+ Request (application/json; charset=utf-8)
    + Attributes
        + commission_groups (array)
            + (Commission Group Base)
                + name: Top Sites 2% (required)

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Commission Group Wrapper)

### Update Commission Groups [PUT /commission_group]

Update Groups by referencing the `commission_group_id` in each Group object within the `commission_groups` array.

+ Request (application/json; charset=utf-8)
    + Attributes
        + commission_groups (array)
            + (Commission Group Base)
                + commission_group_id: 10l169 - ID of the commission group
                + name: Top Sites 4% (required)

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Commission Group Wrapper)

## Commission Group [/campaign/{campaign_id}/commission_group/{commission_group_id}]

+ Parameters
    + campaign_id: 10l176 - ID of the campaign
    + commission_group_id: 10l169 - ID of the commission group

+ Attributes (object)
    + commission_group_id: 10l169 - ID of the commission group
    + Include Commission Group Base
    + active (YesOrNo)
    + last_modified: `2015-04-10 01:59:54`

### Retrieve a Commission Group [GET]

Outputs the specified Group.

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Commission Group Wrapper)

# Group Voucher Code

A Voucher references a coupon code, or voucher code which the Advertiser offers to their customers to usually
 perform a price discount at the end of the transaction. Specific rules can be set to defined Vouchers ensuring that
 only valid codes can be used and can also be restricted to specific Publishers.

## Voucher Codes [/campaign/{campaign_id}/voucher_code]

+ Parameters
    + campaign_id: 10l176 - ID of the campaign

### List all Voucher Codes [GET]

View all Voucher Codes attached to the Campaign.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + voucher_codes (array[Voucher Code Wrapper])

### Create Voucher Codes [POST]

Create new Vouchers by passing each Voucher object within a `voucher_codes` array. A `voucher_code` string to define
the actual code must be passed with each object, and to allocate the Voucher to specific Groups, pass the Group ids
in a `commission_groups` array.

+ Request (application/json; charset=utf-8)
    + Attributes
        + voucher_codes (array)
            + (Voucher Code Base)
                + voucher_code: specialoffer69

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Voucher Code Wrapper)

### Update Voucher Codes [PUT]

Update Vouchers by referencing the `voucher_code_id` in each Group object within the `voucher_codes` array.

+ Request (application/json; charset=utf-8)
    + Attributes
        + voucher_codes (array)
            + (Voucher Code Base)
                + voucher_code_id: 111111l1000015 - ID of the voucher code

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Voucher Code Wrapper)

## Voucher Code [/campaign/{campaign_id}/voucher_code/{voucher_code_id}]

+ Parameters
    + campaign_id: 10l176 - ID of the campaign
    + voucher_code_id: 111111l1000015 - ID of the voucher code

+ Attributes (object)
    + voucher_code_id: 111111l1000015 - ID of the voucher code
    + campaign_id: 10l176 - ID of the campaign
    + Include Voucher Code Base
    + active (YesOrNo)
    + on_expiry: ignore
    + on_invalid_user: ignore

### Retrieve a Voucher Code [GET]

Outputs the specified Voucher Code.

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Voucher Code Wrapper)

# Group Participating Publishers

Before Publishers can generate conversions for a Campaign, they must be approved to do so. A Publisher can apply to
be part of a Campaign, or the Advertiser can choose to add the Publisher(s) of their choice to their own Campaign.
Furthermore, if an Advertiser has stipulated their own unique set of Campaign Terms and Conditions, the Publisher
must explicitly agree to these if they are to be fully approved on the Campaign.

## Participating Publishers [/campaign/{campaign_id}/publisher]

+ Parameters
    + campaign_id: 10l176 - ID of the campaign

### List all Participating Publishers [GET]

View all Publishers Participating on the Campaign.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + publishers (array[Participating Publisher Wrapper])

### Create a Participating Publisher [POST]

Create new Participations by passing each `publisher_id` along with the relevant `campaign_status` in an
object within a `publishers` array.

+ Request (application/json; charset=utf-8)
    + Attributes
        + publishers (array)
            + (object)
                + publisher_id: 1l1007802 - ID of the publisher
                + campaign_status (Status)

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + publishers (array[Participating Publisher Wrapper])

# Group Publisher Campaign

Before a Publishers can begin to generate conversions, they must be associated with a Campaign. The Publisher Campaign
endpoint allows the Publisher to request access to a Campaign, and to agree to any Terms and Conditions
that the Campaign defines.

## Publisher Campaigns [/user/publisher/{publisher_id}/campaign]

+ Parameters
    + publisher_id: 1l1007802 - ID of the publisher

### List all Publisher Campaigns [GET]

View all Campaigns that the Publisher is associated with, along with the status of any Participation.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + campaigns (array[Publisher Campaign Wrapper])

### Create Publisher Campaigns [POST]

Request access to one or more Campaigns. If a Campaign has any custom Terms and Conditions then the Publisher must
agree to these terms when requesting access. This is achieved by passing the latest `terms_id` from the relevant
Campaign object.
​
On certain Campaigns, you may find that a Publisher will be auto-approved. However, some Advertisers will stipulate
that they wish to review all Participations. Therefore, once access is requested the Publisher will be shown as
pending until this decision is made.
​
Create new Participations by passing each `campaign_id` along with the relevant `terms_id` (if applicable) in an
object within a `campaigns` array.

+ Request (application/json; charset=utf-8)
    + Attributes
        + campaigns (array)
            + (object)
                + campaign_id: 10l176 - ID of the campaign
                + terms_id: 111111l8

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + campaigns (array[Publisher Campaign Wrapper])

# Group Invoice

So that Publishers can receive payment for all approved conversion events they have generated across an Advertiser's
Campaigns, the Advertiser must raise an Invoice and send payment to Performance Horizon. Once the payment has cleared,
all funds will be deposited into the relevant Publisher accounts.

## Invoices [/user/advertiser/{advertiser_id}/invoice]

+ Parameters
    + advertiser_id: 10l110 - ID of the advertiser

### List all Invoices [GET]

View all Invoices that have been created.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + invoices (array[Invoice Wrapper])

## Invoice [/user/advertiser/{advertiser_id}/invoice/{invoice_id}]

+ Parameters
    + advertiser_id: 10l110 - ID of the advertiser
    + invoice_id: 1101l1536 - ID of the invoice

+ Attributes
    + invoice_id: 1101l1536 - ID of the invoice
    + campaign_id: 10l176 - ID of the campaign
    + merchant_invoice_id (string, optional, nullable) - Optional merchant reference
    + creation_date: `2015-12-14 22:58:25`
    + payment_date
    + status: created (enum)
        + created
        + sent
        + paid
    + currency (Currency)
    + paid_currency (Currency)
    + invoice_net_value: 770.84 (number)
    + invoice_vat_value: 0 (number)
    + invoice_total_value: 770.84 (number)
    + payment_reference (string, optional, nullable) - Optional payment reference
    + publisher_commission: 700.76 (number)
    + publisher_override: 70.08 (number)
    + set_start_date: `2015-08-30`
    + set_end_date: `2015-12-09`
    + set_timezone (Timezone)
    + invoiced: All
    + average_conversion_age: 14 (number)
    + invoice_reference: `I-10l176-1101l1536`
    + vat_rate: 0 (number)
    + `payment_due_by_date`
    + download (nullable) - URL for PDF download
    + item_download (nullable) - URL for CSV item download

### Retrieve an Invoice [GET]

View an individual Invoice.

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Invoice Wrapper)

# Group Campaign Conversion

An Advertiser must approve or reject all conversion events that occur on their Campaigns. A conversion can have one or more
conversion items, and it is the items which must be updated before they can be Invoiced or ignored. It is possible to
update the status of items individually, or all items within a conversion can be referenced at the same time.
Due to the high volume of processing that can happen on this endpoint, it is Job enabled.

### Update Conversion Events [POST /campaign/{campaign_id}/conversion]

A Conversion update can be actioned against one of 3 references. The relevant reference must be passed, with its
associated id and status. Bulk operations are sent within a `conversions` array. An optional `reject_reason` can
be sent with references that are set to the `rejected` status.

+ Parameters
    + campaign_id: 10l176 - ID of the campaign

+ Request (application/json; charset=utf-8)
    + Attributes
        + conversions (array)
            + (object)
                + One Of
                    + conversion_id - The unique identifier for a conversion, which will affect all items attached to it
                    + conversion_reference - The Advertiser's own reference for the conversion, which will affect all items attached to it
                    + conversion_item_id - The unique identifier for an individual item, this only affects its own status
                + status (enum)
                    + accepted
                    + rejected
                + reject_reason

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Job Wrapper)

# Group Campaign Tracking

To track conversions on a Campaign, all conversion data must be passed to the PHG tracking API. There are 2
distinct methods of passing this data, via an image/pixel tag (which emulates a HTTP GET), and via a direct API call
(GET or POST). This endpoint is intended as a quick reference to the syntax of the tracking calls, the actual
tracking implementation should be performed in co-operation with the Performance Horizon Integration team.

### View Example [GET /campaign/{campaign_id}/tracking]

View example tracking code for all unique Commission categories.

+ Parameters
    + campaign_id: 10l176 - ID of the campaign

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + tracking_code
            + pixel_tracking
                + default_conversion: `<img src="http://demo.prf.hn/conversion/campaign:10l176/value:[xx:xx]/conversionref:[xxxxx]" height="1" width="2" />`
                + categories (object)
            + api_tracking
                + default_conversion: `http://demo.prf.hn/conversion/clickref:[xxxxx]/campaign:10l176/value:[xx:xx]/conversionref:[xxxxx]`
                + categories (object)

# Group Selfbill

Once funds have been received from the Advertiser, Performance Horizon will allocate all Commissions to the relevant Publishers.

## Selfbills [/user/publisher/{publisher_id}/selfbill]

+ Parameters
    + publisher_id: 1l1007802 - ID of the publisher

### List all Selfbills [GET]

View all Selfbills that have been created.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + selfbills (array[Selfbill Wrapper])

## Selfbill [/user/publisher/{publisher_id}/selfbill/{publisher_self_bill_id}]

+ Parameters
    + publisher_id: 1l1007802 - ID of the publisher
    + publisher_self_bill_id: 1011l5403

+ Attributes
    + publisher_id: 1l1007802 - ID of the publisher
    + publisher_self_bill_id: 1011l5403
    + publisher_self_bill_reference (string, optional, nullable)
    + creation_date: `2012-07-25 14:22:35`
    + payment_date (string, optional, nullable)
    + timestamp: `2012-07-25 14:22:35`
    + payment_batch_id (string, optional, nullable)
    + status: created (enum)
    + tracked_net_value: 430.17 (number)
    + tracked_currency (Currency)
    + paid_currency (Currency)
    + selfbill_currency (Currency)
    + majority_received_currency (Currency)
    + net_value: 430.17 (number)
    + vat_value: 0 (number)
    + withheld_tax: 0 (number)
    + total_value: 430.17 (number)
    + items_in_bill: 5 (number)
    + publisher_payment_detail_set_id: 111111l80 (string, optional, nullable)
    + payment_detail_set_id: 24 (number)
    + self_bill_reference: `S-1l1007802-1011l5403`
    + legal_entity (Country)
    + vat_rate: 0 (number)
    + download (nullable) - URL for PDF download
    + item_download (nullable) - URL for CSV item download

### View a Selfbill [GET]

View an individual Selfbill.

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Selfbill Wrapper)

# Group Job

Some endpoints are extremely data intensive. Rather than force users who interact with the API to implement long
running scripts against these heavy endpoints, the API has a concept of Jobs.

For example, a large Report export request may cover 100,000,000 records, and the generation of this export may be
dependent on a FIFO queue. Therefore it could take several hours before the report is ready. The Job endpoint will
provide instant acknowledgement that a request was received for a significant payload, and will provide details
about the progress of the backgrounded, asynchronous request.

The Job endpoint can be used to periodically request updates on its progress and once finished, it will reference
the location of the final response in its Hypermedia object.

## Job [/job/{job_id}]

### List all Jobs [GET /job]

Return the details of all Jobs created by the authenticated User.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + jobs (array[Job Wrapper])

### View a Single Job [GET]

Retrieve the details of the specified Job.

+ Parameters
    + job_id: 111111l1177306 - ID of the job

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Job Wrapper)

# Group Granular Reporting

The granular reporting endpoints list all Clicks or Conversions individually. Due to the volume of data,
these result sets are Paginated.

## List all Clicks attached to Campaign [GET /reporting/report_advertiser/campaign/{campaign_id}/click{?start_date,end_date}]

Return the details of all Clicks attached to the Campaign within the requested time period.

+ Parameters
    + campaign_id: 10l176 - ID of the campaign
    + start_date: `2016-02-30T05:15:32Z` (required)
    + end_date: `2016-03-10T19:02:35Z` (required)

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + unique_click_count: 28 (number)
        + start_date_time: `2016-02-30 05:15:32`
        + end_date_time: `2016-03-10 19:02:35`
        + clicks (array)
            + (object)
                + click (Click)
                    + advertiser_reference

## List all Conversions attached to Campaign [GET /reporting/report_advertiser/campaign/{campaign_id}/conversion{?start_date,end_date}]

Return the details of all Conversions attached to the Campaign within the requested time period.

+ Parameters
    + campaign_id: 10l176 - ID of the campaign
    + start_date: `2016-02-30T05:15:32Z` (required)
    + end_date: `2016-03-10T19:02:35Z` (required)

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + total_conversion_count
            + GBP: 97 (number)
        + total_commission_value
            + GBP: 39417.7684 (number)
        + total_publisher_commission
            + GBP: 35804.7927 (number)
        + total_value
            + GBP: 186166.28 (number)
        + conversions (array)
            + (object)
                + conversion_data (Conversion)
                    + click (Click)
                        + advertiser_reference

## List all Clicks generated by Publisher [GET /reporting/report_publisher/publisher/{publisher_id}/click{?start_date,end_date}]

Return the details of all Clicks generated by the Publisher within the requested time period.

+ Parameters
    + publisher_id: 1l1007802 - ID of the publisher
    + start_date: `2016-02-30T05:15:32Z` (required)
    + end_date: `2016-03-10T19:02:35Z` (required)

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + unique_click_count: 28 (number)
        + start_date_time: `2016-02-30 05:15:32`
        + end_date_time: `2016-03-10 19:02:35`
        + clicks (array)
            + (object)
                + click (Click)
                    + publisher_reference

## List all Conversions generated by Publisher [GET /reporting/report_publisher/publisher/{publisher_id}/conversion{?start_date,end_date}]

Return the details of all Conversions generated by the Publisher within the requested time period.

+ Parameters
    + publisher_id: 1l1007802 - ID of the publisher
    + start_date: `2016-02-30T05:15:32Z` (required)
    + end_date: `2016-03-10T19:02:35Z` (required)

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + total_conversion_count
            + GBP: 97 (number)
        + total_commission_value
            + GBP: 39417.7684 (number)
        + total_publisher_commission
            + GBP: 35804.7927 (number)
        + total_value
            + GBP: 186166.28 (number)
        + conversions (array)
            + (object)
                + conversion_data (Conversion)
                    + click (Click)
                        + publisher_reference

# Group Aggregated Reporting

In most instances, it is not feasible to traverse large paginated result sets - it is a largely inefficient process
when most use cases demand an aggregation of data across a defined time period. To speed up this process the
aggregation endpoint will instantly total all headline stats for a given pivot to offer near instant summation of the
data. These endpoints support the `.csv` format.

## Aggregate Advertiser [GET /reporting/report_advertiser/campaign/{campaign_id}/overview/{pivot}{?start_date,end_date}]

Return the aggregation stats for the requested `pivot` within the requested time period.

+ Parameters
    + campaign_id: 10l176 - ID of the campaign
    + pivot: country (enum[string])
        + primary - All Publishers
        + adref - All advertiser references referenced through tracking
        + product - All tracked item categories
        + country - All countries detected from tracking events
        + type - The type of each Conversion
        + creative - Stats related to all active Creative
        + agent - The type of device used
        + custref - Optional customer identifiers referenced in tracking
        + self - Totals for the Campaign
    + start_date: `2016-02-30T05:15:32Z` (required)
    + end_date: `2016-03-10T19:02:35Z` (required)

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Aggregated Report)

## Aggregate Publisher [GET /reporting/report_publisher/publisher/{publisher_id}/overview/{pivot}{?start_date,end_date}]

Return the aggregation stats for the requested `pivot` within the requested time period.

+ Parameters
    + publisher_id: 1l1007802 - ID of the publisher
    + pivot: country (enum[string])
        + primary - All Campaigns
        + pubref - All publisher references referenced through tracking
        + product - All tracked item categories
        + country - All countries detected from tracking events
        + type - The type of each Conversion
        + creative - Stats related to all active Creative
        + agent - The type of device used
        + custref - Optional customer identifiers referenced in tracking
        + self - Totals for the Campaign
    + start_date: `2016-02-30T05:15:32Z` (required)
    + end_date: `2016-03-10T19:02:35Z` (required)

+ Response 200 (application/json; charset=utf-8)
    + Attributes (Aggregated Report)

# Group Export Reporting

It is possible to export any report into a CSV file. Depending on the size of the export, the response may be
automatically converted into a Job.

## Export Clicks [GET /reporting/export/export/click.csv{?start_date,end_date,campaign_id,publisher_id}]

Request a CSV for a granular Click report for the defined Campaign or Publisher and within the requested time period.

+ Parameters
    + campaign_id: 10l176 - ID of the campaign
    + publisher_id: 1l1007802 - ID of the publisher
    + start_date: `2016-02-30T05:15:32Z` (required)
    + end_date: `2016-03-10T19:02:35Z` (required)

+ Response 200 (application/octet-stream; charset=UTF-8)

        click_id,cookie_id,campaign_id,publisher_id,status,set_time,set_ip,last_used,last_ip,advertiser_reference,referer,creative_id,creative_type,specific_creative_id,country,publisher_name
        111111l2210,111111l2136,10l176,1l1007802,nibbled,"2016-03-02 10:11:36",127.0.0.1,"2016-06-17 19:13:09",127.0.0.1,,,0,0,0,GB,apipublisher123

## Export Conversions [GET /reporting/export/export/conversion.csv{?start_date,end_date,campaign_id,publisher_id}]

Request a CSV for a granular Conversion report for the defined Campaign or Publisher and within the requested time period.

+ Parameters
    + campaign_id: 10l176 - ID of the campaign
    + publisher_id: 1l1007802 - ID of the publisher
    + start_date: `2016-02-30T05:15:32Z` (required)
    + end_date: `2016-03-10T19:02:35Z` (required)

+ Response 200 (application/octet-stream; charset=UTF-8)

        conversion_id,campaign_id,publisher_id,conversion_date,conversion_date_time,click_time,click_date,click_date_time,currency,advertiser_reference,conversion_reference,referer_ip,source_referer,campaign_title,publisher_name,conversion_status,conversion_lag,value,commission,publisher_commission,creative_type,creative_id,specific_creative_id,customer_type,was_disputed,cookie_id,country,currency_original,currency_conversion_rate,customer_reference,camref
        111111l3919676,10l176,1l1007802,2016-03-02,"2016-03-02 10:22:02",10:11:36,2016-03-02,"2016-03-02 10:11:36",EUR,,AUTO-57643db548165,127.0.0.1,,"API Campaign Demo",apipublisher123,pending,626,90.92,1.0001,0.9092,0,0,0,,,111111l2136,GB,,,,1l3v9UA

## Export Conversion Items [GET /reporting/export/export/conversion_item.csv{?start_date,end_date,campaign_id,publisher_id}]

Request a CSV for a granular Conversion report which includes all individual items for the defined Campaign or Publisher and within the requested time period.

+ Parameters
    + campaign_id: 10l176 - ID of the campaign
    + publisher_id: 1l1007802 - ID of the publisher
    + start_date: `2016-02-30T05:15:32Z` (required)
    + end_date: `2016-03-10T19:02:35Z` (required)

+ Response 200 (application/octet-stream; charset=UTF-8)

        conversion_id,campaign_id,publisher_id,conversion_date,conversion_date_time,click_time,click_date,click_date_time,currency,advertiser_reference,conversion_reference,referer_ip,source_referer,campaign_title,publisher_name,conversion_status,conversion_lag,value,commission,publisher_commission,creative_type,creative_id,specific_creative_id,customer_type,was_disputed,cookie_id,country,currency_original,currency_conversion_rate,conversion_item_id,sku,category,item_value,item_commission,item_publisher_commission,item_status,item_status_id,reject_reason,last_update,voucher_codes,customer_reference,camref,invoice_id,meta_item_cabin_code,meta_item_departure_date,meta_item_dest,meta_item_device,meta_item_origin,meta_item_passenger,meta_item_payment_method,meta_item_product_ids,meta_item_return_date
        111111l3919676,10l176,1l1007802,2016-03-02,"2016-03-02 10:22:02",10:11:36,2016-03-02,"2016-03-02 10:11:36",EUR,,AUTO-57643db548165,127.0.0.1,,"API Campaign Demo",apipublisher123,pending,626,90.92,1.0001,0.9092,0,0,0,,,111111l2136,GB,,,111111l4118583,,,90.92,1.0001,0.9092,pending,1,,"2016-06-17 19:13:09",,,1l3v9UA,,,,,,,,,,

# Group Network Publisher

An Advertiser can view all Publishers who are created on their network. This endpoint is not specific to a Campaign,
therefore it pools all available Publishers who have been created or are able to access their Network.
​
It is also possible to accept new Publishers onto the Network, or to reject any approved or pending Publishers
from the Network. If a Publisher is rejected from the Network, they will be automatically rejected from all participating Campaigns.

## Network Publisher [/network/{network_id}/publisher]

+ Parameters
    + network_id: 1l1000003 - ID of the network

### List all Publishers on the Network [GET]

View all Publishers on the Network.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + publishers (array[Publisher Wrapper])

### Update Publisher's Network status [POST]

Update the `network_status` of a Publisher by passing each `publisher_id` along with the relevant `network_status`
in an object within a `publishers` array.

+ Request (application/json; charset=utf-8)
    + Attributes
        + publishers (array)
            + (object)
                + network_status (Status, required)
                + publisher_id: 1l1007802 (required) - ID of the publisher

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + publishers (array[Publisher Wrapper])

# Group Publisher Creative

A Publisher may wish to use pre-generated Creative when promoting an Advertiser.

## List all Creatives on each participating Campaign [GET /user/publisher/{publisher_id}/creative]

View a summary of all Creatives available on each participating Campaign.

+ Parameters
    + publisher_id: 1l1007802 - ID of the publisher

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + campaign_creatives (array)
            + (object)
                + campaign_creative
                    + campaign_id: 10l176 - ID of the campaign
                    + creatives
                        + Banner: 1 (number)
                        + HTML: 1 (number)
                        + Email: 1 (number)
                        + Text Link: 1 (number)
                        + Feed: 1 (number)
                        + HTML Form: 1 (number)

## List all Creatives on a Campaign [GET /user/publisher/{publisher_id}/campaign/{campaign_id}/creative]

View all Creative for the specified Campaign.

+ Parameters
    + publisher_id: 1l1007802 - ID of the publisher
    + campaign_id: 10l176 - ID of the campaign

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + creatives (array[Creative Wrapper])

# Group Campaign Creative

An Advertiser may wish to offer pre-generated Creative so that the Publishers can advertise their brand easily.
It is possible to categorise Creative with tags and there are 3 distinct Creative formats: Image, HTML and Text.

## Campaign Creative [/campaign/{campaign_id}/creative]

+ Parameters
    + campaign_id: 10l176 - ID of the campaign

### List all Creatives for Campaign [GET]

View all Creative for the specified Campaign.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + creatives (array[Creative Wrapper])

### Create Campaign Creatives [POST]

Create one or more Creatives against the Campaign entity. Each Creative is sent as an array within a top level
`creatives` array.

+ Request (application/json; charset=utf-8)
    + Attributes
        + creatives (array[Creative Base])

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + creatives (array[Creative Wrapper])

### Update Campaign Creatives [PUT]

Update one or more Creatives against the Campaign entity. Each Creative is sent as an array within a top level
`creatives` array and must contain its associated `creative_id`.

+ Request (application/json; charset=utf-8)
    + Attributes
        + creatives (array)
            + (object)
                + creative_id: 300441 - ID of the creative
                + Include Creative Base

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + creatives (array[Creative Wrapper])

# Group Creative Tags

Creative Tags allows an Advertiser to organise their Creatives in a flexible structure.

## Creative Tag [/campaign/{campaign_id}/creative/tags]

+ Parameters
    + campaign_id: 10l176 - ID of the campaign

### List all Creative Tags for Campaign [GET]

View all Creative Tags for the specified Campaign.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + creative_tags (array[Creative Tag Wrapper])

### Create Campaign Creative Tags [POST]

Create one or more Creative Tags against the Campaign entity. Each Tag is sent as an array within a top level `tags` array.

+ Request (application/json; charset=utf-8)
    + Attributes
        + tags (array)
            + (Creative Tag Base)
                + name: promo (required)

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + creative_tags (array[Creative Tag Wrapper])

### Update Campaign Creative Tags [PUT]

Update one or more Creative Tags against the Campaign entity. Each Tag is sent as an array within a top level `tags`
array and must contain its associated `creative_tag_id`.

+ Request (application/json; charset=utf-8)
    + Attributes
        + tags (array)
            + (object)
                + creative_tag_id: 111111l2 - ID of the creative tag
                + Include Creative Tag Base
                + name: promotion (required)

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + creative_tags (array[Creative Tag Wrapper])

## Delete Campaign Creative Tags [DELETE]

Delete one or more Creative Tags against the Campaign entity. Each Tag is sent as an array within a top level `tags`
array and must contain its associated `creative_tag_id`.

+ Request (application/json; charset=utf-8)
    + Attributes
        + tags (array)
            + (object)
                + creative_tag_id: 111111l2 - ID of the creative tag

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + creative_tags (array[Creative Tag Wrapper])

# Group Campaign Bonus

The bonus endpoint allows the Campaign owner to allocate a one off bonus Conversion to a Publisher.

## Create a Bonus Conversion [POST /user/advertiser/{advertiser_id}/campaign/{campaign_id}/bonus_conversion]

Create one or more Bonus Conversions against the Campaign entity. Each Bonus is sent as an array within a top
level `conversions` array.

+ Parameters
    + advertiser_id: 10l110 - ID of the advertiser
    + campaign_id: 10l176 - ID of the campaign

+ Attributes
    + conversions (array)
        + (object)
            + publisher_id: 1l1007802 (required) - ID of the publisher
            + commission: 100.99 (number, required)
            + value (number, optional, nullable)
            + override (number)
            + currency (Currency)
            + country (Country, optional)
            + dispute_id (string, optional, nullable)
            + conversion_time: `2015-03-28 11:08:52` (string, optional, nullable)
            + conversionref (string, optional, nullable)
            + adref (string, optional, nullable)
            + pubref (string, optional, nullable)
            + approve (YesOrNo)

+ Request (application/json; charset=utf-8)
    + Attributes
        + conversions (array)
            + (object)
                + publisher_id: 1l1007802 (required) - ID of the publisher
                + commission: 100.99 (number, required)

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + conversions (array)
            + (object)
                + conversion (Conversion)
                    + conversion_type: 3 (number)

# Group Reference

The Reference endpoints list common entities which are used across several endpoints. These endpoints are read-only
and seldom change.

## Vertical [/reference/vertical]

A vertical is a categorisation of business.

+ Attributes (object)
    + vertical_id: 1 (number) - ID of the vertical
    + name: Downloads - The vertical name
    + description: App downloads (string, nullable)

### List all Verticals [GET]

List all active verticals.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + verticals (array[Vertical Wrapper])

## Reference Locale [/reference/locale]

+ Attributes (object)
    + code: en  - The iso code of the locale
    + printable_name: English - The dictionary word for the locale

### List all Locales [GET]

List all active locales.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + locales (array[Locale Wrapper])

## Reference Country [/reference/country]

+ Attributes (object)
    + ref_country_id: 1 (number) - ID of the country
    + iso: AD - The ISO code for the country
    + printable_name: Andorra - The dictionary word for the locale
    + currency_iso: EUR - The ISO of the currency
    + population: 84000 (number)
    + fips_code: AN 
    + iso_numeric: 020
    + north: 42.656043
    + south: 42.656043
    + east: 42.656043
    + west: 42.656043
    + capital: Andorra la Vella
    + continent_name: Europe
    + continent_iso: EU
    + area_sq_km: 468 (number)
    + languages: ca
    + iso3: AND
    + geoname_id: 3041565 (number)
    + zone: Outside EU VAT area

### List all Countries [GET]

List all active countries.

+ Response 200 (application/json; charset=utf-8)
    + Attributes
         + countries (array[Country Wrapper])

## Creative Type [/reference/creative_type]

+ Attributes (object)
    + creative_type_id: 1 (number)  - The id of the creative type
    + creative_name: Banner  - The name of the creative type
    + active (YesOrNo)
    + output_method: banner 
    + description: Image based creative - Describing what the creative

### List all Creative Types [GET]

List all the types of creative

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + creative_types (array[Creative Type Wrapper])

## Currency [/reference/currency]

+ Attributes (object)
    + currency_id: 51 (number)  - The id of the currency
    + name: Pound Sterling  - The name of the currency
    + iso: GBP - The ISO value for the currency
    + minor_unit: 2 (number) - The number of decimal places

### List all Currencies [GET]

List all the types of currency

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + currencies (array[Currency Wrapper])

## Campaign Extra Field [/reference/campaign_extra_field]

+ Attributes (object)
    + campaign_extra_field_id: 102 (number)  - The id of the extra field
    + field_name: country  - The name of the extra field
    + field_default_value: nil - The value assigned if no value is passed in
    + field_comment: campaign level country setting, overrides advertiser level country setting

### List all Campaign Extra Fields [GET]

List all the types of campaign extra fields

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + campaign_extra_fields (array[Campaign Extra Field Wrapper])

## Payment Method [/reference/payment_method]

+ Attributes (object)
    + payment_method_id: 1 (number)  - The id of the payment method
    + payment_method_code: bank_transfer  - The code of the payment method
    + title: Bank Transfer - The title of the payment method
    + payment_type_code: eft
    + active (YesOrNo)

### List all Payment Method [GET]

List all the types of payment methods

+ Response 200 (application/json; charset=utf-8)
    + Attributes
        + payment_methods (array[Payment Method Wrapper])

# Data Structures

## User Base (object)
+ user_name: demomaster (required) - Unique user account name
+ email_address: matthew.clarke@performancehorizon.com (required) - Email address registered to the user
+ firstname: Pete (required) - First name of the user
+ lastname: Cheyne (required) - Surname of the user
+ Include Phone
+ fax: 123456 (number, optional, nullable) - Fax number
+ Include Address
+ locale (Locale)
+ Include Signup IP

## User Update (object)
+ email_address: matthew.clarke@performancehorizon.com (optional) - Email address registered to the user
+ firstname: Mike (optional) - First name of the user
+ lastname: Cheyne (optional) - Surname of the user
+ Include Phone (optional)
+ fax: 123456 (number, optional, nullable) - Fax number
+ Include Address (optional)
+ locale (Locale, optional)

## Advertiser Base (object)
+ account_name: demoadvertiser (required) - Unique advertiser account name
+ company_name: PHG Demo Advertiser (required)
+ Include Address
+ Include Phone
+ Include Signup IP

## Advertiser Update (object)
+ company_name: PHG Demo Advertiser (optional)
+ Include Address (optional)
+ Include Phone (optional)
+ Include Signup IP (optional)

## Campaign Base (object)
+ One Of
    + default_commission_rate: 5
    + default_commission_value: 20
+ advertiser_id: 10l110 (required) - ID of the advertiser the campaign should belong to
+ title: PHG Aff Demo (required)
+ destination_url: http://www.performancehorizon.com (required)
+ vertical_id: 10 (number)
+ vertical_name: Other
+ test_mode (YesOrNo)
+ tracking_method: s2s (enum)
    + pixel
    + api
    + s2s
+ allow_third_party_pixel (YesOrNo)
+ campaign_logo: http://performancehorizon.com/logo.png (string, optional, nullable)
+ hidden_campaign (YesOrNo)
+ default_currency (Currency)
+ tq_auto_approve: 60 (number)
+ campaign_notes
+ description (object, optional, nullable)
    + en: Awesome new campaign (string)
+ terms (object, optional, nullable)
    + en (object)
        + terms: Important campaign terms and conditions (string)
+ cookie_period (number)
+ multiple_conversions_per_click: n (enum)
    + y
    + n
    + 2 (number)
    + 3 (number)
    + 4 (number)
    + 5 (number)
    + 6 (number)
    + 7 (number)
    + 8 (number)
    + 9 (number)
    + 10 (number)
+ unique_conversion_refs: y (enum)
    + y
    + n
    + ignore
+ allow_deep_linking (YesOrNo)
+ append_url_parameters
+ prepend_url_string: `http://google.com` (string, optional, nullable) - Prepend all destination URLs
+ associated_campaigns
+ auto_rejected_ips (string, optional, nullable)
+ secure_tracking (YesOrNo)

## Campaign Update
+ title: PHG Aff Demo (optional)
+ destination_url: http://www.performancehorizon.com (optional)

## Commission Group Base (object)
+ name: Fansites 3% (required)
+ campaign_id: 10l176 (required) - ID of the campaign
+ description
+ Include Time Range
+ publishers (array) - Array of IDs of the publisher ids

## Voucher Code Base (object)
+ voucher_code: promocode (required)
+ description
+ Include Time Range
+ commission_groups (array) - Array of IDs of the commission groups

## Commission Base (object)
+ One Of
    + commission_rate: 4
    + commission_value
    + commission_value_cpc
+ Include Time Range
+ country (Country)
+ vertical_id: 10 (number, required)
+ vertical_name: Other (required)
+ conversion_type: 10 (number, required)
+ sku
+ customer_type: new (enum)
    + new
    + existing
+ category
+ customer_reference
+ advertiser_reference
+ update_description: Promotional Period

## Address (object)
+ address1: Gardegasse 11 (required) - 1st line of the address
+ address2: Top 7 (nullable) - 2nd line of the address
+ address3: London (nullable) - 3rd line of the address
+ address4 (nullable) - 4th line of the address
+ country (Country, required) - Country of the address
+ postcode: `A-101` (required) - Postcode/Zipcode attached to the address

## Term (object)
+ terms: This is terms document
+ terms_id: 1100l119

## Permissions (object)
+ super_admin_readwrite: create, update, delete (array)

## Campaign Group (object)
+ campaign_group_id : 10l110
+ title : Example Group - title of the campaign group
+ advertiser_id : 10l110 - id of owning advertiser account
+ week_start : monday
+ reporting_timezone : GMT
+ default_currency : GBP
+ campaigns (array[Campaign Base])

## Click (object)
+ click_id: 111111l100057
+ cookie_id: 111111l38040
+ campaign_id: 10l176 - ID of the campaign
+ publisher_id: 1l1007802 - ID of the publisher
+ publisher_name: Demo
+ type (enum)
    + standard
    + batch
    + cpc
+ status (enum)
    + fresh
    + stale
    + used
    + nibbled
+ set_time: `2015-03-28 11:08:52`
+ set_ip: 127.0.0.1
+ last_used: `2015-03-28 11:08:52`
+ last_ip: 127.0.0.1
+ referer
+ country (Country)
+ creative_id: 0 (number)
+ creative_type: 0 (number)
+ specific_creative_id: 0 (number)
+ ref_device_id: 1 (number)
+ ref_traffic_source_id: 1 (number)

## Conversion (object)
+ conversion_id: 111111l726240
+ cookie_id: 111111l38040
+ campaign_id: 10l176 - ID of the campaign
+ publisher_id: 1l1007802 - ID of the publisher
+ publisher_name: Demo
+ campaign_title: Demo Campaign
+ click (Click)
+ conversion_time: `2016-04-10 13:08:15`,
+ last_modified: `2016-04-10 13:08:16`
+ currency (Currency)
+ currency_original (Currency)
+ currency_conversion_rate
+ customer_type
+ conversion_type: 1 (number)
+ conversion_reference: `AUTO-570a968f38b55`,
+ advertiser_reference
+ customer_reference
+ source_referer
+ referer_ip: 127.0.0.1
+ user_agent: Mozilla
+ country (Country)
+ creative_id: 0 (number)
+ creative_type: 0 (number)
+ specific_creative_id: 0 (number)
+ ref_device_id: 1 (number)
+ ref_traffic_source_id: 1 (number)
+ ref_partnership_model_id: 2 (number)
+ ref_conversion_metric_id: 2 (number)
+ ref_user_context_id: 3 (number)
+ was_disputed: false (boolean)
+ conversion_lag: 33 (number)
+ conversion_items (array[Conversion Item])
+ conversion_value
    + conversion_value_id: 111111l726195
    + conversion_status (Conversion Status)
    + value: 915.26 (number)
    + commission: 2013.572 (number)
    + publisher_commission: 1830.52 (number)

## Conversion Item (object)
+ conversion_item_id: 111111l1107235 - ID of the conversion item
+ sku: 855779
+ category: Promotion
+ item_value: 915.26 (number)
+ item_commission: 2013.572 (number)
+ item_publisher_commission: 1830.52 (number)
+ item_status (Conversion Status)
+ invoice_id
+ last_update: `2016-04-10 13:08:16`
+ item_status_id: 1 (number)
+ reject_reason
+ voucher_codes (array)

## Conversion Status (enum)
+ pending
+ accepted
+ rejected

### Sample
+ pending

## Aggregated Rejection (object)
+ percentage: 93.83 (number)
+ all_conversions_count: 4395 (number)
+ rejected_conversions_count: 4124 (number)

## Aggregated Overview (object)
+ impression: 0 (number)
+ clicks: 825 (number)
+ currency (object)
    + GBP (object)
+ quantity_all: 0 (number)
+ rejection_rate (Aggregated Rejection)
+ clickthrough_rate: 0 (number)
+ ordersize_avg: 0 (number)

## Aggregated Report (object)
+ start_date_time: `2016-02-30 05:15:32`
+ end_date_time: `2016-03-10 19:02:35`
+ total_impression_count: 0 (number)
+ total_click_count: 30242 (number)
+ total_conversion_count
    + GBP: 97 (number)
+ total_commission_value
    + GBP: 39417.7684 (number)
+ total_publisher_commission
    + GBP: 35804.7927 (number)
+ total_order_value
    + GBP: 186166.28 (number)
+ total_rejection_rate (Aggregated Rejection)
+ total_quantity: 0 (number)
+ total_clickthrough_rate: 0 (number)
+ total_ordersize_avg: 0 (number)
+ countrys (array)
    + (object)
        + country (Aggregated Overview)

## Creative Common (object)
+ campaign_id: 10l176 - ID of the campaign
+ active (YesOrNo)
+ creative_type_id: 1 (number)
+ creative_type
+ custom_append_url_parameters
+ custom_prepend_url_parameters
+ tags

## Creative Base (object)
+ Include Creative Common
+ description: Demo Text
+ destination
+ default_specific_creative_id: 300396
+ creative_tracking_link
+ creative_tracking_link_rotate
+ dynamic_tracking_link
+ html_tracking_link
+ width: 400
+ height: 360
+ Include Time Range
+ preview: https://demo.prf.hn/preview/creativeref:300442
+ advertiser_reference
+ limits
+ creative_items (array[Creative Item])

## Creative (object)
+ creative_id: 300441 - ID of the creative
+ Include Creative Base
+ Include Created

## Creative Item (object)
+ creative_item_id: 300396 - ID of the creative item
+ Include Creative Common
+ description
+ specific_destination
+ img_url: `https://demophgconsole.performancehorizon.com/upload/4fdf4b3879da1funny-animals-page.jpg`
+ content_type: image/jpeg
+ filename: `4fdf4b3879da1funny-animals-page.jpg`
+ preview: https://demo.prf.hn/preview/screativeref:300396
+ Include Created

## Creative Tag Base (object)
+ name: logo (required)

## Creative Tag (object)
+ creative_tag_id: 111111l2 - ID of the creative tag
+ campaign_id: 10l176 - ID of the campaign
+ Include Creative Tag Base
+ Include Created
+ creatives (array)
    + (object)
        + creative_id: 300441 - ID of the creative
        + creative_item_id: 300396 - ID of the creative item

:[](common.apib)

## User Wrapper (object)
+ user (User)

## Network Wrapper (object)
+ network (Network)

## Advertiser Wrapper (object)
+ advertiser (Advertiser)

## Publisher Website Wrapper (object)
+ website (Publisher Website)

## Publisher Database Wrapper (object)
+ database (Publisher Database)

## Campaign Wrapper (object)
+ campaign (Campaign)

## Commission Wrapper (object)
+ commission (Commission)

## Commission Group Wrapper (object)
+ commission_group (Commission Group)

## Voucher Code Wrapper (object)
+ voucher_code (Voucher Code)

## Participating Publisher Wrapper (object)
+ publisher (Publisher)
    + campaign_status (Status)

## Publisher Campaign Wrapper (object)
+ campaign (Campaign)
    + publisher_status (Status)

## Invoice Wrapper (object)
+ invoice (Invoice)

## Selfbill Wrapper (object)
+ selfbill (Selfbill)

## Creative Wrapper (object)
+ creative (Creative)

## Creative Tag Wrapper (object)
+ creative_tag (Creative Tag)

## Network Account Wrapper (object)
+ network (Network)
    + permissions (Permissions)

## Publisher Account Wrapper (object)
+ publisher (Publisher)
    + permissions (Permissions)

## Advertiser Account Wrapper (object)
+ advertiser (Advertiser)
    + permissions (Permissions)

## Campaign Group Account Wrapper (object)
+ campaign_group (Campaign Group)
    + permissions (Permissions)

## Vertical Wrapper (object)
+ vertical (Vertical)

## Locale Wrapper (object)
+ locale (Reference Locale)

## Country Wrapper (object)
+ country (Reference Country)

## Creative Type Wrapper (object)
+ creative_type (Creative Type)

## Currency Wrapper (object)
+ currency (Currency)

## Campaign Extra Field Wrapper (object)
+ campaign_extra_field (Campaign Extra Field)

## Payment Method Wrapper (object)
+ payment_method (Payment Method)